<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>All Tracks</title>
<link href="andreas01.css" media="screen,projection" rel="stylesheet" type="text/css"/>
<link href="print.css" media="print" rel="stylesheet" type="text/css"/>
<style>

        body {
            font-family: Arial, sans-serif;
            background-image: url('');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            margin: 0;
            padding: 20px;
            color: #000; /* Set default text color to black */
        }
        .track-list {
            list-style-type: none;
            padding: 0;
            display: grid; /* Use CSS Grid for layout */
            grid-template-columns: repeat(3, 1fr); /* Three columns with equal width */
            gap: 10px; /* Gap between items */
        }
        .track-list li {
            position: relative; /* Ensure the hover box is positioned relative to the item */
            margin: 0;
            line-height: 1.5; /* Set line height for single spacing */
            cursor: pointer;
            color: #000; /* Default text color */
        }
        .track-list li.selected {
            color: blue; /* Selected text color */
        }

        .styled-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #808080; /* Grey background */
            color: #fff; /* White text */
            border: none;
            cursor: pointer;
        }

        #footer {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 10px;
        }
        .hover-box {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            border: 2px solid #ccc;
            padding: 10px;
            z-index: 1;
            white-space: pre-wrap;
            width: 250px;
            max-height: 80vh;
            overflow: auto;
            left: calc(100% + 10px);
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 4px;
        }
        .track-list li:hover .hover-box {
            display: block;
        }

     /* Ensuring buttons are placed properly */
        #controls {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
        }  
    </style>
</head>
<body>
<div id="wrap">
<div id="header">
<h1><a href="#">All Tracks</a></h1>
<img alt="" height="190" id="frontphoto" src="img/guitarplayerheader2.jpg" width="760"/>
<h1>Select Tracks</h1>
<!-- Search input -->
<input id="searchInput" placeholder="Search for a song by title or author..." style="margin-bottom: 20px; width: 100%; padding: 10px; box-sizing: border-box;" type="text"/>
<!-- Select All Button -->
<button class="styled-button" id="selectAllButton">Select All</button>
<!-- Select Random Button -->

<!-- Select Nuumber Button -->
<button class="styled-button" id="selectNumberButton">Select Random Songs</button>
<!-- Play Button -->
<button class="styled-button" id="finished-selecting">Play</button>
        <ul class="track-list">
           
<li data-src="Tracks/A Bicycle Built For Two.mp3" data-title="A Bicycle Built For Two" data-author="Harry Dacre" data-comments="A Bicycle Built for Two, also known as Daisy Bell, is a popular song written in 1892 by British composer Harry Dacre. It tells the story of a man proposing marriage, suggesting they ride a tandem , first known in the 19th century. A song about leaving and the sorrow of parting.</div></li>

<!-- Add more tracks here as needed -->
        </ul>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const trackListItems = document.querySelectorAll('.track-list li');
    const searchInput = document.getElementById('searchInput');
    const selectAllButton = document.getElementById("selectAllButton");
    const finishedButton = document.getElementById('finished-selecting');

    // Select All functionality
    selectAllButton.addEventListener("click", function() {
        trackListItems.forEach(item => item.classList.add('selected'));
    });

    // Finished selecting functionality (Play button)
    finishedButton.addEventListener('click', function() {
        const selectedPlaylist = [];
        trackListItems.forEach(item => {
            if (item.classList.contains('selected')) {
                const songSrc = item.getAttribute('data-src');
                const songTitle = item.getAttribute('data-title');
                const songComments = item.getAttribute('data-comments') || ''; // Retrieve comments
                selectedPlaylist.push({ src: songSrc, title: songTitle, comments: songComments });
            }
        });

        // Store selected playlist in localStorage
        localStorage.setItem('playlist', JSON.stringify(selectedPlaylist));

        // Redirect back to index.html
        window.location.href = 'index.html';
    });

    // Toggle selection of individual tracks
    trackListItems.forEach(item => {
        item.addEventListener('click', function() {
            item.classList.toggle('selected');
        });
    });

    // Search functionality by title or author
    searchInput.addEventListener('input', function() {
        const filter = searchInput.value.toLowerCase();
        trackListItems.forEach(function(item) {
            const title = item.getAttribute('data-title').toLowerCase();
            const author = item.getAttribute('data-author') ? item.getAttribute('data-author').toLowerCase() : '';
            if (title.includes(filter) || author.includes(filter)) {
                item.style.display = '';
            } else {
                item.style.display = 'none';
            }
        });
    });
    
    // Hover box adjustment for overflow
    document.querySelectorAll('.track-list li').forEach(function(track) {
        track.addEventListener('mouseover', function() {
            const hoverBox = this.querySelector('.hover-box');
            const rect = hoverBox.getBoundingClientRect();
            const viewportHeight = window.innerHeight;

            // Check if hover box would go below the viewport
            if (rect.bottom > viewportHeight) {
                hoverBox.style.top = `-${rect.height}px`;
            } else {
                hoverBox.style.top = '0';
            }
        });
    });
});
</script>
<div id="footer">
<p>Copyright © 2024 <a href="img/PatMcD4x4.jpg">Thomas Patrick McDonnell</a> · 
        | <a href="homepage.html">Homepage</a></p>
</div>
</div>

</div><script>
  function getAllTrackItems() {
    return Array.from(document.querySelectorAll(".track-list li"));
  }

  function clearAllSelections() {
    getAllTrackItems().forEach(item => item.classList.remove("selected"));
  }

  function selectRandomItems(count) {
    const items = getAllTrackItems();
    clearAllSelections();
    if (count > items.length) count = items.length;
    const shuffled = [...items].sort(() => 0.5 - Math.random());
    const selected = shuffled.slice(0, count);
    selected.forEach(item => item.classList.add("selected"));
  }

  document.getElementById("selectNumberButton").addEventListener("click", () => {
    const total = getAllTrackItems().length;
    const input = prompt(`Enter the number of songs to select (1 to ${total}):`, "10");
    const num = parseInt(input, 10);
    if (!isNaN(num) && num > 0 && num <= total) {
      selectRandomItems(num);
    } else {
      alert("Please enter a valid number between 1 and " + total);
    }
  });
</script></body>
</html>
