<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   All Tracks
  </title>
  <link href="andreas01.css" media="screen,projection" rel="stylesheet" type="text/css"/>
  <link href="print.css" media="print" rel="stylesheet" type="text/css"/>
  <style>
  
 body {
            font-family: Arial, sans-serif;
            background-image: url('');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            margin: 0;
            padding: 20px;
            color: #000; /* Set default text color to black */
        }
        .track-list {
            list-style-type: none;
            padding: 0;
            display: grid; /* Use CSS Grid for layout */
            grid-template-columns: repeat(3, 1fr); /* Three columns with equal width */
            gap: 10px; /* Gap between items */
        }
        .track-list li {
            position: relative; /* Ensure the hover box is positioned relative to the item */
            margin: 0;
            line-height: 1.5; /* Set line height for single spacing */
            cursor: pointer;
            color: #000; /* Default text color */
        }
        .track-list li.selected {
            color: blue; /* Selected text color */
        }

        .styled-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #808080; /* Grey background */
            color: #fff; /* White text */
            border: none;
            cursor: pointer;
        }

        #footer {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 10px;
        }
        .hover-box {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            border: 2px solid #ccc;
            padding: 10px;
            z-index: 1;
            white-space: pre-wrap;
            width: 250px;
            max-height: 80vh;
            overflow: auto;
            left: calc(100% + 10px);
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 4px;
        }
        .track-list li:hover .hover-box {
            display: block;
        }

     /* Ensuring buttons are placed properly */
        #controls {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
        }
  </style>
 </head>
 <body>

  <div id="wrap">
   <div id="header">
<p></p>  <p></p> 
    <h1>&nbsp;&nbsp;
     <a href="#">
      All Tracks
     </a>
    </h1>

 <h2><a href="Help.html">Help</a></h2>

 <img alt="" height="190" id="frontphoto" src="img/guitarplayerheader2.jpg" width="760"/>

<div class="navbar">
  
    <a href="Tracks.html">All Tracks</a>
    <a href="blues.html">Blues</a>
    <a href="childballads.html">Child Ballads</a>
    <a href="childrensongs.html">Children's Songs</a>
    <a href="christmas.html">Christmas</a>
    <a href="country.html">Country</a>
    <a href="folk.html">Folk Songs</a>
    <a href="irish.html">Irish</a>
    <a href="gospel.html">Gospel</a>
    <a href="scottish.html">Scottish</a>
    <a href="shanties.html">Shanties</a>
 
</div>

    <h1>
     Select Tracks
    </h1>
  
  <!-- Search input -->
<input id="searchInput" placeholder="Search for a song by title, author or year composed..." 
       style="width: 100%; padding: 10px; box-sizing: border-box;" type="text"/>

<small style="display: block; margin-top: 4px; margin-bottom: 1em; color: #555; font-style: italic; font-size: 0.9em;">
  You can search by title, author, or year range the song was originally composed (e.g., 1900-1920) or, below, filter by when the song was recorded here.
</small>

<div style="margin-bottom: 1em;">
  <label for="from-date">From: </label>
  <input type="date" id="from-date">
  <label for="to-date">To: </label>
  <input type="date" id="to-date">
  <button onclick="filterByDate()">Filter</button>
  <button onclick="clearDateFilter()">Clear</button>
  <button onclick="sortByDate()">Sort by Date</button>
  <select id="authorDropdown" multiple size="5" style="min-width: 170px; max-width: 170px; height: 50px; margin-left: 8px; vertical-align: bottom; font-size: 12px;">
    <option disabled>Select Author(s)...</option>
  </select>
</div>


    <!-- Select All Button -->
    <button class="styled-button" id="selectAllButton">
     Select All
    </button>
    <!-- Select Random Button -->
    <!-- Select Number Button -->
    <button class="styled-button" id="selectNumberButton">
     Select Random Songs
    </button>

    <!-- Play Button -->
    <button class="styled-button" id="finished-selecting">
     Play
    </button>
    <ul class="track-list">

<li data-src="Tracks/A Bicycle Built For Two.mp3" data-title="A Bicycle Built For Two" data-author="Harry Dacre" data-category="Folk" data-date-composed="1892" data-modified="2024-10-13" data-comments="A Bicycle Built for Two, also known as Daisy Bell, is a popular song written in 1892 by British composer Harry Dacre. It tells the story of a man proposing marriage, suggesting they ride a tandem bicycle. The catchy tune has been featured in various media, including early computer music experiments.">A Bicycle Built For Two<div class="hover-box">A Bicycle Built for Two, also known as Daisy Bell, is a popular song written in 1892 by British composer Harry Dacre. It tells the story of a man proposing marriage, suggesting they ride a tandem bicycle. The catchy tune has been featured in various media, including early computer music experiments.</div></li>

<li data-src="Tracks/A Drink for My Father.mp3" data-title="A Drink for My Father" data-author="Donal Lunny" data-modified="2024-08-05" data-comments="Composed by Donal Lunny, an influential Irish musician, composer, and producer. He is known for his work with several prominent Irish bands, including Planxty, The Bothy Band, and Moving Hearts. The song first gained recognition in the early 1980s.">A Drink for My Father<div class="hover-box">Composed by Donal Lunny, an influential Irish musician, composer, and producer. He is known for his work with several prominent Irish bands, including Planxty, The Bothy Band, and Moving Hearts. The song first gained recognition in the early 1980s.</div></li>

<li data-src="Tracks/A Song For A Winter's Night.mp3" data-title="A Song For A Winter's Night" data-author="Gordon Lightfoot" data-category="Folk" data-century="20th" data-date-composed="1967" data-modified="2025-03-08" data-comments="A Song for a Winter’s Night – Written and recorded by Gordon Lightfoot in 1967, this gentle folk song evokes a sense of longing and solitude on a winter evening. Originally penned during a summer thunderstorm, its melancholic lyrics and warm melody have made it a seasonal favorite, covered by artists like Sarah McLachlan.">A Song For A Winter's Night<div class="hover-box">A Song for a Winter’s Night – Written and recorded by Gordon Lightfoot in 1967, this gentle folk song evokes a sense of longing and solitude on a winter evening. Originally penned during a summer thunderstorm, its melancholic lyrics and warm melody have made it a seasonal favorite, covered by artists like Sarah McLachlan.</div></li>

<li data-src="Tracks/Abraham, Martin and John.mp3" data-title="Abraham, Martin and John" data-author="Dick Holler" data-category="Folk" data-century="20th" data-date-composed="1968" data-modified="2025-02-19" data-comments="Abraham, Martin and John is a song written by Dick Holler in 1968 and first recorded by Dion. It mourns the assassinations of Abraham Lincoln, Martin Luther King Jr., and John F. Kennedy, later adding Robert F. Kennedy in some versions. The song became a major hit for Dion, marking his transition from teen idol to a more serious artist. Its folk-pop style and reflective lyrics made it a poignant anthem of the era.">Abraham, Martin and John<div class="hover-box">Abraham, Martin and John is a song written by Dick Holler in 1968 and first recorded by Dion. It mourns the assassinations of Abraham Lincoln, Martin Luther King Jr., and John F. Kennedy, later adding Robert F. Kennedy in some versions. The song became a major hit for Dion, marking his transition from teen idol to a more serious artist. Its folk-pop style and reflective lyrics made it a poignant anthem of the era.</div></li>

<li data-src="Tracks/Acres of Clams.mp3" data-title="Acres of Clams" data-author="Francis D. Henry" data-category="Folk" data-century="19th" data-date-composed="1800s" data-modified="2024-12-31" data-comments="Acres of Clams is a traditional American folk song associated with the Pacific Northwest. Its lyrics were adapted in the mid-19th century by Francis D. Henry, a settler in Washington Territory, to the tune of Rosin the Beau. The song humorously celebrates the region's abundance, particularly clams, and reflects pioneer life.">Acres of Clams<div class="hover-box">Acres of Clams is a traditional American folk song associated with the Pacific Northwest. Its lyrics were adapted in the mid-19th century by Francis D. Henry, a settler in Washington Territory, to the tune of Rosin the Beau. The song humorously celebrates the region's abundance, particularly clams, and reflects pioneer life.</div></li>

<li data-src="Tracks/Across The Western Ocean.mp3" data-title="Across The Western Ocean" data-author="Unknown" data-category="Irish" data-century="19th" data-date-composed="1850s" data-modified="2025-02-05" data-comments="Across the Western Ocean is a traditional sea shanty dating back to the 19th century, sung by sailors emigrating from Europe to America. The song reflects the hardships of ocean voyages, particularly on packet ships traveling the Atlantic. Often associated with Irish emigrants, it laments rough seas and longing for home. Though the composer is unknown, it has been recorded by folk artists like Stan Hugill and The Watersons.">Across The Western Ocean<div class="hover-box">Across the Western Ocean is a traditional sea shanty dating back to the 19th century, sung by sailors emigrating from Europe to America. The song reflects the hardships of ocean voyages, particularly on packet ships traveling the Atlantic. Often associated with Irish emigrants, it laments rough seas and longing for home. Though the composer is unknown, it has been recorded by folk artists like Stan Hugill and The Watersons.</div></li>

</ul>
    <script>
     document.addEventListener("DOMContentLoaded", function() {
    const trackListItems = document.querySelectorAll('.track-list li');
    const searchInput = document.getElementById('searchInput');
    const selectAllButton = document.getElementById("selectAllButton");
    const finishedButton = document.getElementById('finished-selecting');

    // Select All functionality
    selectAllButton.addEventListener("click", function() {
        trackListItems.forEach(item => item.classList.add('selected'));
    });

    // Finished selecting functionality (Play button)
    finishedButton.addEventListener('click', function() {
        const selectedPlaylist = [];
        trackListItems.forEach(item => {
            if (item.classList.contains('selected')) {
                const songSrc = item.getAttribute('data-src');
                const songTitle = item.getAttribute('data-title');
                const songComments = item.getAttribute('data-comments') || ''; // Retrieve comments
                selectedPlaylist.push({ src: songSrc, title: songTitle, comments: songComments });
            }
        });

        // Store selected playlist in localStorage
        localStorage.setItem('playlist', JSON.stringify(selectedPlaylist));

        // Redirect back to index.html
        window.location.href = 'index.html';
    });

    // Toggle selection of individual tracks
    trackListItems.forEach(item => {
        item.addEventListener('click', function() {
            item.classList.toggle('selected');
        });
    });
searchInput.addEventListener('input', function() {
  const filter = searchInput.value.toLowerCase().trim();
  const rangeMatch = filter.match(/(\d{4})\s*[-–]\s*(\d{4})/); // Handles "1900-1920"

  trackListItems.forEach(function(item) {
    const title = item.getAttribute('data-title')?.toLowerCase() || '';
    const author = item.getAttribute('data-author')?.toLowerCase() || '';
    const dateComposedStr = item.getAttribute('data-date-composed')?.toLowerCase() || '';
    let match = false;

    // Text search (e.g., "Irish", "Dylan", "1960s")
    if (title.includes(filter) || author.includes(filter) || dateComposedStr.includes(filter)) {
      match = true;
    }

    // If a numeric year range is entered, override the match logic
    if (rangeMatch) {
      const startYear = parseInt(rangeMatch[1]);
      const endYear = parseInt(rangeMatch[2]);

      // Only evaluate as a year if it's a strict 4-digit number
      if (/^\d{4}$/.test(dateComposedStr)) {
        const year = parseInt(dateComposedStr);
        match = (year >= startYear && year <= endYear);
      } else {
        match = false; // Exclude "1960s", "early 1900s", etc. from numeric range matches
      }
    }

    item.style.display = match ? '' : 'none';
  });
});



    
    // Hover box adjustment for overflow
    document.querySelectorAll('.track-list li').forEach(function(track) {
        track.addEventListener('mouseover', function() {
            const hoverBox = this.querySelector('.hover-box');
            const rect = hoverBox.getBoundingClientRect();
            const viewportHeight = window.innerHeight;

            // Check if hover box would go below the viewport
            if (rect.bottom > viewportHeight) {
                hoverBox.style.top = `-${rect.height}px`;
            } else {
                hoverBox.style.top = '0';
            }
        });
    });
});
    </script>
    <div id="footer">
     <p>
      Copyright © 2025
      <a href="img/PatMcD4x4.jpg">
       Thomas Patrick McDonnell
      </a>
      · 
        |
      <a href="homepage.html">
       Homepage
      </a>
     </p>
    </div>
   </div>
  </div>
  <script>
   function getAllTrackItems() {
    return Array.from(document.querySelectorAll(".track-list li"));
  }

  function clearAllSelections() {
    getAllTrackItems().forEach(item => item.classList.remove("selected"));
  }

  function selectRandomItems(count) {
    const items = getAllTrackItems();
    clearAllSelections();
    if (count > items.length) count = items.length;
    const shuffled = [...items].sort(() => 0.5 - Math.random());
    const selected = shuffled.slice(0, count);
    selected.forEach(item => item.classList.add("selected"));
  }

  document.getElementById("selectNumberButton").addEventListener("click", () => {
    const total = getAllTrackItems().length;
    const input = prompt(`Enter the number of songs to select (1 to ${total}):`, "10");
    const num = parseInt(input, 10);
    if (!isNaN(num) && num > 0 && num <= total) {
      selectRandomItems(num);
    } else {
      alert("Please enter a valid number between 1 and " + total);
    }
  });
  </script>

<script>
let sortAscending = true;

function filterByDate() {
  const fromDate = document.getElementById('from-date').value;
  const toDate = document.getElementById('to-date').value;
  const items = document.querySelectorAll('li[data-modified]');

  items.forEach(li => {
    const modDate = li.getAttribute('data-modified');
    if (
      (!fromDate || modDate >= fromDate) &&
      (!toDate || modDate <= toDate)
    ) {
      li.style.display = '';
    } else {
      li.style.display = 'none';
    }
  });
}

function clearDateFilter() {
  document.getElementById('from-date').value = '';
  document.getElementById('to-date').value = '';
  document.querySelectorAll('li[data-modified]').forEach(li => {
    li.style.display = '';
  });
}

function sortByDate() {
  const ul = document.querySelector('ul');
  const items = Array.from(document.querySelectorAll('li[data-modified]'));

  items.sort((a, b) => {
    const dateA = a.getAttribute('data-modified');
    const dateB = b.getAttribute('data-modified');
    return sortAscending ? dateA.localeCompare(dateB) : dateB.localeCompare(dateA);
  });

  items.forEach(li => ul.appendChild(li)); // Reorder in DOM
  sortAscending = !sortAscending;
}
</script>


 
<script>
// Fetch authors.json and populate the dropdown
fetch('authors.json')
  .then(response => response.json())
  .then(authors => {
    const dropdown = document.getElementById('authorDropdown');
    authors.forEach(author => {
      const option = document.createElement('option');
      option.value = author;
      option.textContent = author;
      dropdown.appendChild(option);
    });

    // Handle filtering when the selection changes
    dropdown.addEventListener('change', () => {
      const selectedOptions = Array.from(dropdown.selectedOptions).map(opt => opt.value);
      const items = document.querySelectorAll('ul.track-list li');

      items.forEach(item => {
        const itemAuthor = item.getAttribute('data-author');
        if (selectedOptions.length === 0 || selectedOptions.includes(itemAuthor)) {
          item.style.display = '';
        } else {
          item.style.display = 'none';
        }
      });
    });
  })
  .catch(error => console.error('Error loading authors:', error));

// Add Clear Author Selection button
const clearAuthorButton = document.createElement('button');
clearAuthorButton.textContent = 'Clear Author';
clearAuthorButton.style.marginLeft = '8px';
clearAuthorButton.style.height = '23px';
clearAuthorButton.style.fontSize = '13px';
clearAuthorButton.style.padding = '1px 6px';
clearAuthorButton.style.lineHeight = 'normal';
clearAuthorButton.style.verticalAlign = 'bottom';



document.addEventListener('DOMContentLoaded', () => {
  const controlPanel = document.querySelector('#from-date').parentElement;
  controlPanel.insertBefore(clearAuthorButton, document.getElementById('authorDropdown').nextSibling);

  clearAuthorButton.addEventListener('click', () => {
    const dropdown = document.getElementById('authorDropdown');
    Array.from(dropdown.options).forEach(option => option.selected = false);
    const items = document.querySelectorAll('ul.track-list li');
    items.forEach(item => item.style.display = '');
  });
});
</script>

</body>
</html>
