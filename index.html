<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folksong Collection</title>
    <link rel="stylesheet" type="text/css" href="andreas01.css" media="screen,projection" />
    <link rel="stylesheet" type="text/css" href="print.css" media="print" />
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            margin: 0;
            padding: 20px;
            color: #000; /* Set text color to black */
        }
        .song-list {
            list-style-type: none;
            padding: 0;
        }
        .song-list li {
            margin: 5px 0;
            cursor: pointer;
            color: #000; /* Set text color to black */
            text-decoration: underline;
        }
    </style>
</head>
<body>
<div id="wrap">
    <div id="header">
        <h1><a href="#">Folksong Collection</a></h1>
        <p>Families: <a href="#">Songs</a> &middot; <a href="">About</a> &middot; <a href="Tracks.html">Tracks</a> &middot; <a href="">Comment</a></p>
    </div>
    <img id="frontphoto" src="img/1812TheaterHeader.jpg" width="760" height="190" alt="" />
    <div id="leftside">
        <h2 class="hide">Menu:</h2>
        <ul class="avmenu">
            <li><a href="#">Home</a></li>
            <li><a class="current" href="">Folksongs</a></li>
            <li><a href="">About</a></li>
            <li><a href="Tracks.html">Tracks</a></li>
            <li><a href="">Comment</a></li>
            <li><a href="">Something Else</a></li>
        </ul>
    </div>
    <div id="contentwide">
        <h1>Audio Player</h1>
        <audio id="audio-player" controls>
            Your browser does not support the audio element.
        </audio>
        <ul class="song-list" id="playlist">
            <!-- Playlist items will be dynamically added here -->
        </ul>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const audioPlayer = document.getElementById('audio-player');
                const playlist = document.getElementById('playlist');

                // Function to add a song to the playlist
                function addToPlaylist(songSrc, songTitle) {
                    const listItem = document.createElement('li');
                    listItem.textContent = songTitle;
                    listItem.setAttribute('data-src', songSrc);
                    listItem.addEventListener('click', function() {
                        audioPlayer.src = songSrc;
                        audioPlayer.play();
                    });
                    playlist.appendChild(listItem);
                }

                // Load playlist from localStorage
                const savedPlaylist = JSON.parse(localStorage.getItem('playlist')) || [];
                savedPlaylist.forEach(song => addToPlaylist(song.src, song.title));

                // Listen for songs added via localStorage
                window.addEventListener('storage', function(event) {
                    if (event.key === 'newSong') {
                        const newSong = JSON.parse(event.newValue);
                        addToPlaylist(newSong.src, newSong.title);

                        // Update the saved playlist in localStorage
                        savedPlaylist.push(newSong);
                        localStorage.setItem('playlist', JSON.stringify(savedPlaylist));
                    }
                });
            });
        </script>
    </div>
    <div id="footer">
        <p>Copyright &copy; 2024 <a href="#">Thomas Patrick McDonnell</a> &middot; 
            | <a href="#">Homepage</a></p>
    </div>
</div>
</body>
</html>
