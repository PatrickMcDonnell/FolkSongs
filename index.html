<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>Folksong Collection</title>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" type="text/css" href="andreas01.css" media="screen,projection" />
    <link rel="stylesheet" type="text/css" href="print.css" media="print" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Player</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            margin: 0;
            padding: 20px;
            color: #000; /* Set text color to black */
        }
        .song-list {
            list-style-type: none;
            padding: 0;
        }
        .song-list li {
            margin: 5px 0;
            cursor: pointer;
            color: #000; /* Set text color to black */
            text-decoration: underline;
        }
        .clear-button {
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #808080; /* Grey background */
            color: #fff; /* White text */
            border: none;
            cursor: pointer;
        }
    </style>

</head>
<body>
<div id="wrap">
    <div id="header">
        <h1><a href="#">Folksong Collection</a></h1>
        <p>Families: <a href="#">Songs</a> &middot; <a href="">About</a> &middot; <a href="Tracks.html">Tracks</a> &middot; <a href="">Comment</a></p>
    </div>
    <img id="frontphoto" src="img/1812TheaterHeader.jpg" width="760" height="190" alt="" />
    <div id="leftside">
        <h2 class="hide">Menu:</h2>
        <ul class="avmenu">
            <li><a href="#">Home</a></li>
            <li><a class="current" href="">Folksongs</a></li>
            <li><a href="">About</a></li>
            <li><a href="Tracks.html">Tracks</a></li>
            <li><a href="">Comment</a></li>
            <li><a href="#">Something Else</a></li>
        </ul>
    </div>
    <div id="contentwide">
        <h1>Audio Player</h1>

        <audio id="audio-player" controls>
            Your browser does not support the audio element.
        </audio>

        <ul class="song-list" id="playlist">
            <!-- Playlist items will be dynamically added here -->
        </ul>

        <button class="clear-button" id="clear-playlist">Clear Playlist</button>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const audioPlayer = document.getElementById('audio-player');
                const playlist = document.getElementById('playlist');
                const clearButton = document.getElementById('clear-playlist');

                // Function to initialize playlist from localStorage
                function initializePlaylist() {
                    playlist.innerHTML = ''; // Clear existing playlist
                    const storedPlaylist = JSON.parse(localStorage.getItem('playlist'));

                    if (storedPlaylist) {
                        storedPlaylist.forEach(song => {
                            const li = document.createElement('li');
                            li.textContent = song.title;
                            li.setAttribute('data-src', song.src);
                            li.classList.add('song-item');
                            playlist.appendChild(li);
                        });
                    }
                }

                // Function to clear playlist
                function clearPlaylist() {
                    localStorage.removeItem('playlist');
                    playlist.innerHTML = ''; // Clear the displayed playlist
                }

                // Event listener for clear playlist button
                clearButton.addEventListener('click', function() {
                    clearPlaylist();
                });

                // Event listener for playing songs from playlist
                playlist.addEventListener('click', function(event) {
                    if (event.target && event.target.matches('li.song-item')) {
                        const songSrc = event.target.getAttribute('data-src');
                        audioPlayer.src = songSrc;
                        audioPlayer.play();
                    }
                });

                // Initialize playlist on page load
                initializePlaylist();
            });
        </script>

    </div>
    <div id="footer">
        <p>Copyright &copy; 2024 <a href="#">Thomas Patrick McDonnell</a> &middot; | <a href="#">Homepage</a></p>
    </div>
</div>
</body>
</html>


